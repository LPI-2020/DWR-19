#ifndef __PID_H__
#define __PID_H__

#ifdef __cplusplus
extern "C" {
#endif

#include "stm32f7xx_hal.h"

#define KP 0
#define KI 20
#define KD 0

#define a_pid 0

#define U_SAT_A 1.0
#define U_SAT_B -1.0

// struct
typedef struct
{
	float kp_h;
	float ki_h;
	float kd_h;
	float error;
	float prev_error;
	float sum_errors;
	float sum_errors_bck;
	float u;
	float u_d;
	float prev_u_d;
} pid_st;

void init_pid(pid_st* st, float sample_time);

#ifdef __cplusplus
}
#endif

#endif /* __PID_H__ */
